
  
import org.springframework.stereotype.Service;
import org.springframework.web.client.RestTemplate;

@Service
public class MemberService {

    private static final String PRIVATE_TOKEN = "glpat-sBJ36gPL6axMRKst6UVd";
    private static final String GITLAB_API_URL = "https://dot-portal.de.pri.o2.com/gitlab/api/v4";

    public Object getGroupMembers(int groupId) {
        String url = GITLAB_API_URL + "/groups/" + groupId + "/members?private_token=" + PRIVATE_TOKEN;
        return new RestTemplate().getForObject(url, Object.class);
    }

    public Object getSubgroups(int groupId) {
        String url = GITLAB_API_URL + "/groups/" + groupId + "/subgroups?private_token=" + PRIVATE_TOKEN;
        return new RestTemplate().getForObject(url, Object.class);
    }

    public Object getSubgroupProjectsMembers(int subgroupId) {
        String url = GITLAB_API_URL + "/groups/" + subgroupId + "/projects?private_token=" + PRIVATE_TOKEN;
        // You need to iterate over each project and fetch its members
        // I'll leave this part as an exercise for you
        return new RestTemplate().getForObject(url, Object.class);
    }
}
