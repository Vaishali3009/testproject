
@Endpoint
@RequiredArgsConstructor
public class PaymentValidationSoapAdapter {

    private static final String NAMESPACE_URI = "http://com/rbsg/soa/C040PaymentManagement/ArrValidationForPayment/V01/ServiceParameters/V01";

    private final PaymentValidationPort paymentValidationPort;

    @PayloadRoot(namespace = NAMESPACE_URI, localPart = "ValidateArrangementForPaymentRequest")
    @ResponsePayload
    public JAXBElement<ValidateArrangementForPaymentResponse> validateArrangementForPayment(@RequestPayload JAXBElement<ValidateArrangementForPaymentRequest> request) {
       // return paymentValidationPort.validateArrangementForPayment(request);
        // Implement your business logic here
        System.out.println("Endpoint called");
        // QName name = new QName( "validateArrangementForPaymentRequest");
        ValidateArrangementForPaymentResponse response = new ValidateArrangementForPaymentResponse();

        // Populate the response object
        ValidateArrangementForPaymentContent content = new ValidateArrangementForPaymentContent();
        ResponseHeader header = new ResponseHeader();
        header.setOperatingBrand("NBS");
        // header.set
        content.setResponseHeader(header);
        response.setResponse(content);
        // return response;
        return createJaxbElement(response, ValidateArrangementForPaymentResponse.class);
    }

    private <T> JAXBElement<T> createJaxbElement(T object, Class<T> clazz) {
        return new JAXBElement<>(new QName(clazz.getSimpleName()), clazz, object);
    }
    // Handler for Customer Retrieval to be implemented later
}

